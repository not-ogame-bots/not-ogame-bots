document.createElement("canvas").getContext||function(){function L(){}function O(b){this.type_=b,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function Q(e,d,f){!D(d)||(e.m_=d,f&&(e.lineScale_=aa(ab(d[0][0]*d[1][1]-d[0][1]*d[1][0]))))}function D(e){var d=0;for(;d<3;d++){var f=0;for(;f<2;f++){if(!isFinite(e[d][f])||isNaN(e[d][f])){return !1}}}return !0}function E(f,e,h,g){f.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:h.x,cp2y:h.y,x:g.x,y:g.y}),f.currentX_=g.x,f.currentY_=g.y}function G(d){this.m_=M(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=Z*1,this.globalAlpha=1,this.canvas=d;var c=d.ownerDocument.createElement("div");c.style.width=d.clientWidth+"px",c.style.height=d.clientHeight+"px",c.style.overflow="hidden",c.style.position="absolute",d.appendChild(c),this.element_=c,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function H(b){switch(b){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function I(i){var h,n=1;i=String(i);if(i.substring(0,3)=="rgb"){var m=i.indexOf("(",3),l=i.indexOf(")",m+1),k=i.substring(m+1,l).split(",");h="#";var j=0;for(;j<3;j++){h+=R[Number(k[j])]}k.length==4&&i.substr(3,1)=="a"&&(n=k[3])}else{h=i}return{color:h,alpha:n}}function J(d,c){c.fillStyle=d.fillStyle,c.lineCap=d.lineCap,c.lineJoin=d.lineJoin,c.lineWidth=d.lineWidth,c.miterLimit=d.miterLimit,c.shadowBlur=d.shadowBlur,c.shadowColor=d.shadowColor,c.shadowOffsetX=d.shadowOffsetX,c.shadowOffsetY=d.shadowOffsetY,c.strokeStyle=d.strokeStyle,c.globalAlpha=d.globalAlpha,c.arcScaleX_=d.arcScaleX_,c.arcScaleY_=d.arcScaleY_,c.lineScale_=d.lineScale_}function K(i,h){var n=M(),m=0;for(;m<3;m++){var l=0;for(;l<3;l++){var k=0,j=0;for(;j<3;j++){k+=i[m][j]*h[j][l]}n[m][l]=k}}return n}function M(){return[[1,0,0],[0,1,0],[0,0,1]]}function S(d){var c=d.srcElement;c.firstChild&&(c.firstChild.style.width=c.clientWidth+"px",c.firstChild.style.height=c.clientHeight+"px")}function T(d){var c=d.srcElement;switch(d.propertyName){case"width":c.style.width=c.attributes.width.nodeValue+"px",c.getContext().clearRect();break;case"height":c.style.height=c.attributes.height.nodeValue+"px",c.getContext().clearRect()}}function V(e,d){var f=W.call(arguments,2);return function(){return e.apply(d,f.concat(W.call(arguments)))}}function X(){return this.context_||(this.context_=new G(this))}var af=Math,ae=af.round,ad=af.sin,ac=af.cos,ab=af.abs,aa=af.sqrt,Z=10,Y=Z/2,W=Array.prototype.slice,U={init:function(d){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var c=d||document;c.createElement("canvas"),c.attachEvent("onreadystatechange",V(this.init_,this,c))}},init_:function(f){f.namespaces.g_vml_||f.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),f.namespaces.g_o_||f.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");if(!f.styleSheets.ex_canvas_){var e=f.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}var h=f.getElementsByTagName("canvas"),g=0;for(;g<h.length;g++){this.initElement(h[g])}},initElement:function(d){if(!d.getContext){d.getContext=X,d.innerHTML="",d.attachEvent("onpropertychange",T),d.attachEvent("onresize",S);var c=d.attributes;c.width&&c.width.specified?d.style.width=c.width.nodeValue+"px":d.width=d.clientWidth,c.height&&c.height.specified?d.style.height=c.height.nodeValue+"px":d.height=d.clientHeight}return d}};U.init();var R=[],P=0;for(;P<16;P++){var N=0;for(;N<16;N++){R[P*16+N]=P.toString(16)+N.toString(16)}}var F=G.prototype;F.clearRect=function(){this.element_.innerHTML=""},F.beginPath=function(){this.currentPath_=[]},F.moveTo=function(e,d){var f=this.getCoords_(e,d);this.currentPath_.push({type:"moveTo",x:f.x,y:f.y}),this.currentX_=f.x,this.currentY_=f.y},F.lineTo=function(e,d){var f=this.getCoords_(e,d);this.currentPath_.push({type:"lineTo",x:f.x,y:f.y}),this.currentX_=f.x,this.currentY_=f.y},F.bezierCurveTo=function(r,q,p,o,n,m){var l=this.getCoords_(n,m),k=this.getCoords_(r,q),j=this.getCoords_(p,o);E(this,k,j,l)},F.quadraticCurveTo=function(i,h,n,m){var l=this.getCoords_(i,h),k=this.getCoords_(n,m),j={x:this.currentX_+0.6666666666666666*(l.x-this.currentX_),y:this.currentY_+0.6666666666666666*(l.y-this.currentY_)};E(this,j,{x:j.x+(k.x-this.currentX_)/3,y:j.y+(k.y-this.currentY_)/3},k)},F.arc=function(B,A,z,y,x,w){z*=Z;var v=w?"at":"wa",u=B+ac(y)*z-Y,t=A+ad(y)*z-Y,s=B+ac(x)*z-Y,h=A+ad(x)*z-Y;u==s&&!w&&(u+=0.125);var g=this.getCoords_(B,A),d=this.getCoords_(u,t),c=this.getCoords_(s,h);this.currentPath_.push({type:v,x:g.x,y:g.y,radius:z,xStart:d.x,yStart:d.y,xEnd:c.x,yEnd:c.y})},F.rect=function(f,e,h,g){this.moveTo(f,e),this.lineTo(f+h,e),this.lineTo(f+h,e+g),this.lineTo(f,e+g),this.closePath()},F.strokeRect=function(g,f,j,i){var h=this.currentPath_;this.beginPath(),this.moveTo(g,f),this.lineTo(g+j,f),this.lineTo(g+j,f+i),this.lineTo(g,f+i),this.closePath(),this.stroke(),this.currentPath_=h},F.fillRect=function(g,f,j,i){var h=this.currentPath_;this.beginPath(),this.moveTo(g,f),this.lineTo(g+j,f),this.lineTo(g+j,f+i),this.lineTo(g,f+i),this.closePath(),this.fill(),this.currentPath_=h},F.createLinearGradient=function(g,f,j,i){var h=new O("gradient");h.x0_=g,h.y0_=f,h.x1_=j,h.y1_=i;return h},F.createRadialGradient=function(i,h,n,m,l,k){var j=new O("gradientradial");j.x0_=i,j.y0_=h,j.r0_=n,j.x1_=m,j.y1_=l,j.r1_=k;return j},F.drawImage=function(aq){var ap,ao,an,am,al,ak,aj,ai,ah=aq.runtimeStyle.width,ag=aq.runtimeStyle.height;aq.runtimeStyle.width="auto",aq.runtimeStyle.height="auto";var C=aq.width,B=aq.height;aq.runtimeStyle.width=ah,aq.runtimeStyle.height=ag;if(arguments.length==3){ap=arguments[1],ao=arguments[2],al=ak=0,aj=an=C,ai=am=B}else{if(arguments.length==5){ap=arguments[1],ao=arguments[2],an=arguments[3],am=arguments[4],al=ak=0,aj=C,ai=B}else{if(arguments.length==9){al=arguments[1],ak=arguments[2],aj=arguments[3],ai=arguments[4],ap=arguments[5],ao=arguments[6],an=arguments[7],am=arguments[8]}else{throw Error("Invalid number of arguments")}}}var A=this.getCoords_(ap,ao),z=[];z.push(" <g_vml_:group",' coordsize="',Z*10,",",Z*10,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]){var y=[];y.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",ae(A.x/Z),",","Dy=",ae(A.y/Z),"");var x=A,g=this.getCoords_(ap+an,ao),b=this.getCoords_(ap,ao+am),a=this.getCoords_(ap+an,ao+am);x.x=af.max(x.x,g.x,b.x,a.x),x.y=af.max(x.y,g.y,b.y,a.y),z.push("padding:0 ",ae(x.x/Z),"px ",ae(x.y/Z),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", sizingmethod='clip');")}else{z.push("top:",ae(A.y/Z),"px;left:",ae(A.x/Z),"px;")}z.push(' ">','<g_vml_:image src="',aq.src,'"',' style="width:',Z*an,"px;"," height:",Z*am,'px;"',' cropleft="',al/C,'"',' croptop="',ak/B,'"',' cropright="',(C-al-aj)/C,'"',' cropbottom="',(B-ak-ai)/B,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",z.join(""))},F.stroke=function(aF){var aE=[],aD=I(aF?this.fillStyle:this.strokeStyle),aC=aD.color,aB=aD.alpha*this.globalAlpha;aE.push("<g_vml_:shape",' filled="',!!aF,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',Z*10," ",Z*10,'"',' stroked="',!aF,'"',' path="');var aA={x:null,y:null},az={x:null,y:null},ay=0;for(;ay<this.currentPath_.length;ay++){var ax=this.currentPath_[ay];switch(ax.type){case"moveTo":aE.push(" m ",ae(ax.x),",",ae(ax.y));break;case"lineTo":aE.push(" l ",ae(ax.x),",",ae(ax.y));break;case"close":aE.push(" x "),ax=null;break;case"bezierCurveTo":aE.push(" c ",ae(ax.cp1x),",",ae(ax.cp1y),",",ae(ax.cp2x),",",ae(ax.cp2y),",",ae(ax.x),",",ae(ax.y));break;case"at":case"wa":aE.push(" ",ax.type," ",ae(ax.x-this.arcScaleX_*ax.radius),",",ae(ax.y-this.arcScaleY_*ax.radius)," ",ae(ax.x+this.arcScaleX_*ax.radius),",",ae(ax.y+this.arcScaleY_*ax.radius)," ",ae(ax.xStart),",",ae(ax.yStart)," ",ae(ax.xEnd),",",ae(ax.yEnd))}if(ax){if(aA.x==null||ax.x<aA.x){aA.x=ax.x}if(az.x==null||ax.x>az.x){az.x=ax.x}if(aA.y==null||ax.y<aA.y){aA.y=ax.y}if(az.y==null||ax.y>az.y){az.y=ax.y}}}aE.push(' ">');if(aF){if(typeof this.fillStyle=="object"){var aw=this.fillStyle,av=0,au={x:0,y:0},at=0,aq=1;if(aw.type_=="gradient"){var ao=aw.x1_/this.arcScaleX_,am=aw.y1_/this.arcScaleY_,ak=this.getCoords_(aw.x0_/this.arcScaleX_,aw.y0_/this.arcScaleY_),ag=this.getCoords_(ao,am);av=Math.atan2(ag.x-ak.x,ag.y-ak.y)*180/Math.PI,av<0&&(av+=360),av<0.000001&&(av=0)}else{var ak=this.getCoords_(aw.x0_,aw.y0_),u=az.x-aA.x,b=az.y-aA.y;au={x:(ak.x-aA.x)/u,y:(ak.y-aA.y)/b},u/=this.arcScaleX_*Z,b/=this.arcScaleY_*Z;var a=af.max(u,b);at=2*aw.r0_/a,aq=2*aw.r1_/a-at}var ar=aw.colors_;ar.sort(function(d,c){return d.offset-c.offset});var ap=ar.length,an=ar[0].color,al=ar[ap-1].color,aj=ar[0].alpha*this.globalAlpha,ai=ar[ap-1].alpha*this.globalAlpha,ah=[],ay=0;for(;ay<ap;ay++){var v=ar[ay];ah.push(v.offset*aq+at+" "+v.color)}aE.push('<g_vml_:fill type="',aw.type_,'"',' method="none" focus="100%"',' color="',an,'"',' color2="',al,'"',' colors="',ah.join(","),'"',' opacity="',ai,'"',' g_o_:opacity2="',aj,'"',' angle="',av,'"',' focusposition="',au.x,",",au.y,'" />')}else{aE.push('<g_vml_:fill color="',aC,'" opacity="',aB,'" />')}}else{var g=this.lineScale_*this.lineWidth;g<1&&(aB*=g),aE.push("<g_vml_:stroke",' opacity="',aB,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',H(this.lineCap),'"',' weight="',g,'px"',' color="',aC,'" />')}aE.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",aE.join(""))},F.fill=function(){this.stroke(!0)},F.closePath=function(){this.currentPath_.push({type:"close"})},F.getCoords_=function(e,d){var f=this.m_;return{x:Z*(e*f[0][0]+d*f[1][0]+f[2][0])-Y,y:Z*(e*f[0][1]+d*f[1][1]+f[2][1])-Y}},F.save=function(){var b={};J(this,b),this.aStack_.push(b),this.mStack_.push(this.m_),this.m_=K(M(),this.m_)},F.restore=function(){J(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},F.translate=function(d,c){Q(this,K([[1,0,0],[0,1,0],[d,c,1]],this.m_),!1)},F.rotate=function(d){var c=ac(d),f=ad(d);Q(this,K([[c,f,0],[-f,c,0],[0,0,1]],this.m_),!1)},F.scale=function(d,c){this.arcScaleX_*=d,this.arcScaleY_*=c,Q(this,K([[d,0,0],[0,c,0],[0,0,1]],this.m_),!0)},F.transform=function(h,g,l,k,j,i){Q(this,K([[h,g,0],[l,k,0],[j,i,1]],this.m_),!0)},F.setTransform=function(h,g,l,k,j,i){Q(this,[[h,g,0],[l,k,0],[j,i,1]],!0)},F.clip=function(){},F.arcTo=function(){},F.createPattern=function(){return new L},O.prototype.addColorStop=function(d,c){c=I(c),this.colors_.push({offset:d,color:c.color,alpha:c.alpha})},G_vmlCanvasManager=U,CanvasRenderingContext2D=G,CanvasGradient=O,CanvasPattern=L}();