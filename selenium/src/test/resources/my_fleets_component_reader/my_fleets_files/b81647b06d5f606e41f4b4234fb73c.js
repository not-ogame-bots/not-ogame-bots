(function(){var a={getSelection:function(){var b=(this.jquery)?this[0]:this;return(("selectionStart" in b&&function(){var c=b.selectionEnd-b.selectionStart;return{start:b.selectionStart,end:b.selectionEnd,length:c,text:b.value.substr(b.selectionStart,c)}})||(document.selection&&function(){b.focus();var d=document.selection.createRange();if(d===null){return{start:0,end:b.value.length,length:0}}var c=b.createTextRange();var e=c.duplicate();c.moveToBookmark(d.getBookmark());e.setEndPoint("EndToStart",c);return{start:e.text.length,end:e.text.length+d.text.length,length:d.text.length,text:d.text}})||function(){return null})()},setSelection:function(){var c=(this.jquery)?this[0]:this;var b=arguments[0]||{};return(("selectionStart" in c&&function(){var d=typeof b=="object"?b.start:b;if(d!=undefined){c.selectionStart=d}if(b.end!=undefined){c.selectionEnd=b.end}c.focus();return this})||(document.selection&&function(){c.focus();var d=document.selection.createRange();if(d===null){return this}var e=typeof b=="object"?b.start:b;if(e!=undefined){d.moveStart("character",-c.value.length);d.moveStart("character",e);d.collapse()}if(b.end!=undefined){d.moveEnd("character",b.end-e)}d.select();return this})||function(){c.focus();return jQuery(c)})()},replaceSelection:function(){var b=(this.jquery)?this[0]:this;var c=arguments[0]||"";return(("selectionStart" in b&&function(){b.value=b.value.substr(0,b.selectionStart)+c+b.value.substr(b.selectionEnd,b.value.length);return this})||(document.selection&&function(){b.focus();document.selection.createRange().text=c;return this})||function(){b.value+=c;return jQuery(b)})()}};jQuery.each(a,function(b){jQuery.fn[b]=this})})();